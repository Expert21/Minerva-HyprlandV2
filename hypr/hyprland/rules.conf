# -----------------------------------------------------------------------------
# Window and Layer Rules
# -----------------------------------------------------------------------------
#
# Documentation: https://wiki.hyprland.org/Configuring/Window-Rules/
#
# ----------------------------------------------------- 
# GENERAL WINDOW BEHAVIOR
# ----------------------------------------------------- 

# 1. Smart Opacity
# Apply transparency to everything BUT fullscreen windows
windowrulev2 = opacity $windowActiveOpacity override $windowActiveOpacity override, fullscreen:0
windowrulev2 = opacity 1.0 override 1.0 override, fullscreen:1

# 2. Force Opaque Apps (No blur/transparency for these)
# Good for image viewers or creative tools where color accuracy matters
windowrulev2 = opacity 1.0 override 1.0 override, class:^(imv)$
windowrulev2 = opacity 1.0 override 1.0 override, class:^(swappy)$
windowrulev2 = opacity 1.0 override 1.0 override, class:^(gimp)$
windowrulev2 = opacity 1.0 override 1.0 override, class:^(vlc)$

# ----------------------------------------------------- 
# FLOATING RULES
# ----------------------------------------------------- 

# Essentials
windowrulev2 = float, class:^(pavucontrol)$
windowrulev2 = float, class:^(blueman-manager)$
windowrulev2 = float, class:^(nm-connection-editor)$
windowrulev2 = float, class:^(org.gnome.Calculator)$
windowrulev2 = float, class:^(org.gnome.FileRoller)$
windowrulev2 = float, class:^(file-roller)$
windowrulev2 = float, class:^(yad)$
windowrulev2 = float, class:^(zenity)$
windowrulev2 = float, class:^(imv)$
windowrulev2 = float, class:^(feh)$

# Dialogs (Open File, Save As, etc.)
windowrulev2 = float, title:^(Open File)(.*)$
windowrulev2 = float, title:^(Select a File)(.*)$
windowrulev2 = float, title:^(Choose wallpaper)(.*)$
windowrulev2 = float, title:^(Open Folder)(.*)$
windowrulev2 = float, title:^(Save As)(.*)$
windowrulev2 = float, title:^(Library)(.*)$

# Size & Center specific floats
windowrulev2 = size 60% 70%, class:^(pavucontrol)$
windowrulev2 = center, class:^(pavucontrol)$

windowrulev2 = size 70% 80%, class:^(org.gnome.Settings)$
windowrulev2 = center, class:^(org.gnome.Settings)$

windowrulev2 = size 50% 60%, class:^(nwg-look)$
windowrulev2 = center, class:^(nwg-look)$


# ----------------------------------------------------- 
# GAMING & IMMERSION (Cyberpunk & Steam)
# ----------------------------------------------------- 

# Steam: Float the friends list/settings, Tile the main window
windowrulev2 = float, class:^(steam)$, title:^(Friends List)$
windowrulev2 = float, class:^(steam)$, title:^(Steam - News)$
windowrulev2 = center, class:^(steam)$, title:^(Steam - News)$

# Cyberpunk 2077 specific
windowrulev2 = opacity 1.0 override 1.0 override, class:^(cyberpunk2077)$
windowrulev2 = idle_inhibit always, class:^(cyberpunk2077)$
# Uncomment below if you want Tearing in Cyberpunk
# windowrulev2 = immediate, class:^(cyberpunk2077)$ 

# General Steam Games rule
windowrulev2 = immediate, class:^(steam_app_\d+)$
windowrulev2 = idle_inhibit always, class:^(steam_app_\d+)$

# ----------------------------------------------------- 
# PENTESTING / DEV (Optional)
# ----------------------------------------------------- 

# Wireshark is messy if tiled, usually better floating
windowrulev2 = float, class:^(Wireshark)$
windowrulev2 = size 80% 80%, class:^(Wireshark)$
windowrulev2 = center, class:^(Wireshark)$

# ----------------------------------------------------- 
# PIP (Picture in Picture)
# ----------------------------------------------------- 
windowrulev2 = float, title:^(Picture-in-Picture)$
windowrulev2 = pin, title:^(Picture-in-Picture)$
windowrulev2 = move 100%-w-20 100%-w-20, title:^(Picture-in-Picture)$ # Bottom Right

# ----------------------------------------------------- 
# LAYER RULES (Shell / Bars)
# ----------------------------------------------------- 

# Make Rofi/Fuzzel blur the background
layerrule = blur, rofi
layerrule = ignorezero, rofi

# Make Waybar blur (if you use it)
layerrule = blur, waybar
layerrule = ignorezero, waybar