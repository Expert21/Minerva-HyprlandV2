# =============================================================================
# Hypridle Configuration - Obsidian · Sapphire · Tyrian Theme
# =============================================================================
#
# This file configures idle management (screen dim, lock, suspend)
# Documentation: https://wiki.hyprland.org/Hypr-Ecosystem/Hypridle/
# =============================================================================

general {
    # Command to run when lock is requested (loginctl lock-session or hyprctl)
    lock_cmd = pidof hyprlock || hyprlock
    
    # Lock before sleeping (suspend/hibernate)
    before_sleep_cmd = loginctl lock-session
    
    # Reload Hyprland after wake to fix any display issues
    after_sleep_cmd = hyprctl dispatch dpms on
}

# =============================================================================
# IDLE TIMEOUT LISTENERS
# =============================================================================

# Listener 1: Dim screen after 5 minutes (300 seconds)
listener {
    timeout = 300
    # Reduce brightness to 30%
    on-timeout = brightnessctl -s set 30%
    # Restore brightness on activity
    on-resume = brightnessctl -r
}

# Listener 2: Lock screen after 10 minutes (600 seconds)
listener {
    timeout = 600
    on-timeout = loginctl lock-session
}

# Listener 3: Turn off display after 11 minutes (660 seconds)
listener {
    timeout = 660
    on-timeout = hyprctl dispatch dpms off
    on-resume = hyprctl dispatch dpms on
}

# Listener 4: Suspend after 30 minutes (1800 seconds)
# Uncomment if you want auto-suspend
# listener {
#     timeout = 1800
#     on-timeout = systemctl suspend
# }
